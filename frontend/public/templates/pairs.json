{
  "nodes": [
    {
      "id": "script",
      "type": "scriptNode",
      "position": {
        "x": 50,
        "y": 300
      },
      "data": {
        "scriptName": "train_longcat.py",
        "configPath": "config_new_pairs.json"
      },
      "width": 265,
      "height": 380
    },
    {
      "id": "dir",
      "type": "directoryNode",
      "position": {
        "x": 448.6026832460733,
        "y": -12.879253926701546
      },
      "data": {
        "pretrained_model_name_or_path": "F:/T2ITrainer_pulic/T2ITrainer/longcat_models/LongCat-Image-Edit",
        "output_dir": "F:/ImageSet/longcat_test_edit_output",
        "save_name": "test_edit_pairs",
        "logging_dir": "/home/waas/kontext_output/logs",
        "train_data_dir": "F:/ImageSet/longcat",
        "model_path": "",
        "vae_path": "",
        "pinned": true
      },
      "width": 514,
      "height": 341
    },
    {
      "id": "lora",
      "type": "loraNode",
      "position": {
        "x": 451.3973167539267,
        "y": 350
      },
      "data": {
        "rank": 16,
        "rank_alpha": 16,
        "use_lokr": false,
        "lokr_factor": 8,
        "lora_layers": "all",
        "pinned": true
      },
      "width": 429,
      "height": 249
    },
    {
      "id": "misc",
      "type": "miscNode",
      "position": {
        "x": 973.9886430145234,
        "y": -97.09904702172521
      },
      "data": {
        "resolution": "1024",
        "train_batch_size": 1,
        "num_train_epochs": 10,
        "learning_rate": 0.0001,
        "optimizer": "adamw",
        "mixed_precision": "bf16",
        "seed": 4321,
        "gradient_checkpointing": true,
        "caption_dropout": 0.1,
        "save_model_epochs": 1,
        "blocks_to_swap": 10,
        "recreate_cache": false,
        "validation_epochs": 1,
        "validation_ratio": 0.1,
        "weighting_scheme": "logit_normal",
        "logit_mean": 0,
        "logit_std": 1,
        "mode_scale": 1.29,
        "guidance_scale": 1,
        "mask_dropout": 0,
        "freeze_transformer_layers": "",
        "freeze_single_transformer_layers": "",
        "pinned": true
      },
      "width": 786,
      "height": 869
    },
    {
      "id": "ds_list",
      "type": "datasetListNode",
      "position": {
        "x": 450,
        "y": 1000
      },
      "data": {
        "slots": [
          "dataset_0"
        ]
      },
      "width": 250,
      "height": 155,
      "selected": false,
      "dragging": false
    },
    {
      "id": "dataset",
      "type": "datasetConfigNode",
      "position": {
        "x": 762.2724476439791,
        "y": 983.2321989528796
      },
      "data": {
        "train_data_dir": "F:/ImageSet/longcat"
      },
      "width": 348,
      "height": 526
    },
    {
      "id": "img_list",
      "type": "imageListNode",
      "position": {
        "x": 1214.246402930659,
        "y": 765.0515098596317
      },
      "data": {
        "slots": [
          "img_0",
          "img_vcq8f"
        ]
      },
      "width": 250,
      "height": 216,
      "selected": false,
      "positionAbsolute": {
        "x": 1214.246402930659,
        "y": 765.0515098596317
      },
      "dragging": false
    },
    {
      "id": "tgt_list",
      "type": "targetListNode",
      "position": {
        "x": 1213.7700897638622,
        "y": 1069.9546808629634
      },
      "data": {
        "slots": [
          "tgt_0"
        ]
      },
      "width": 250,
      "height": 183,
      "selected": false,
      "positionAbsolute": {
        "x": 1213.7700897638622,
        "y": 1069.9546808629634
      },
      "dragging": false
    },
    {
      "id": "ref_list",
      "type": "referenceListNode",
      "position": {
        "x": 1217.0333819127382,
        "y": 1301.3234679978639
      },
      "data": {
        "slots": [
          "ref_0"
        ]
      },
      "width": 250,
      "height": 183,
      "selected": false,
      "positionAbsolute": {
        "x": 1217.0333819127382,
        "y": 1301.3234679978639
      },
      "dragging": false
    },
    {
      "id": "cap_list",
      "type": "captionListNode",
      "position": {
        "x": 1210.3293946279164,
        "y": 1549.6749297427532
      },
      "data": {
        "slots": [
          "cap_0"
        ]
      },
      "width": 250,
      "height": 183,
      "selected": false,
      "positionAbsolute": {
        "x": 1210.3293946279164,
        "y": 1549.6749297427532
      },
      "dragging": false
    },
    {
      "id": "batch_list",
      "type": "batchListNode",
      "position": {
        "x": 1210.7280049812794,
        "y": 1754.5386249751525
      },
      "data": {
        "slots": [
          "batch_0"
        ]
      },
      "width": 250,
      "height": 183,
      "selected": false,
      "positionAbsolute": {
        "x": 1210.7280049812794,
        "y": 1754.5386249751525
      },
      "dragging": false
    },
    {
      "id": "img_1",
      "type": "imageConfigNode",
      "position": {
        "x": 1614.1574006391552,
        "y": 729.2129968042246
      },
      "data": {
        "key": "train",
        "suffix": "_T"
      },
      "width": 348,
      "height": 136,
      "selected": false,
      "positionAbsolute": {
        "x": 1614.1574006391552,
        "y": 729.2129968042246
      },
      "dragging": false
    },
    {
      "id": "tgt_1",
      "type": "targetConfigNode",
      "position": {
        "x": 1621.0580963757252,
        "y": 1089.7437400485032
      },
      "data": {
        "key": "train_target",
        "image": "train",
        "from_image": ""
      },
      "width": 348,
      "height": 191,
      "selected": false,
      "positionAbsolute": {
        "x": 1621.0580963757252,
        "y": 1089.7437400485032
      },
      "dragging": false
    },
    {
      "id": "ref_group_1",
      "type": "referenceConfigNode",
      "position": {
        "x": 1621.2361009587325,
        "y": 1307.5962448575785
      },
      "data": {
        "key": "ref_list",
        "slots": [
          "entry_0"
        ]
      },
      "width": 250,
      "height": 238,
      "selected": false,
      "positionAbsolute": {
        "x": 1621.2361009587325,
        "y": 1307.5962448575785
      },
      "dragging": false
    },
    {
      "id": "ref_entry_1",
      "type": "referenceEntryNode",
      "position": {
        "x": 1985.5896084536985,
        "y": 1307.690149985411
      },
      "data": {
        "sample_type": "from_same_name",
        "image": "ref"
      },
      "width": 348,
      "height": 137,
      "selected": false,
      "positionAbsolute": {
        "x": 1985.5896084536985,
        "y": 1307.690149985411
      },
      "dragging": false
    },
    {
      "id": "cap_1",
      "type": "captionConfigNode",
      "position": {
        "x": 1628.85090532692,
        "y": 1571.143693577209
      },
      "data": {
        "key": "train_caption",
        "ext": ".txt",
        "image": "train",
        "reference_list": {
          "reference_config": "ref_list",
          "resize": "384",
          "dropout": 0.1,
          "min_length": 2
        }
      },
      "width": 506,
      "height": 284,
      "selected": false,
      "positionAbsolute": {
        "x": 1628.85090532692,
        "y": 1571.143693577209
      },
      "dragging": false
    },
    {
      "id": "batch_1",
      "type": "batchConfigNode",
      "position": {
        "x": 1626.8166459058148,
        "y": 1881.5360165470404
      },
      "data": {
        "target_config": "train_target",
        "caption_config": "train_caption",
        "reference_config": "ref_list",
        "caption_dropout": 0.1
      },
      "width": 348,
      "height": 191,
      "selected": false,
      "positionAbsolute": {
        "x": 1626.8166459058148,
        "y": 1881.5360165470404
      },
      "dragging": false
    },
    {
      "id": "imageConfigNode_obbbr3",
      "type": "imageConfigNode",
      "position": {
        "x": 1615.6163674727043,
        "y": 896.6873153757205
      },
      "data": {
        "label": "Image Item",
        "suffix": "_R",
        "key": "ref"
      },
      "width": 348,
      "height": 136,
      "selected": false,
      "dragging": false,
      "positionAbsolute": {
        "x": 1615.6163674727043,
        "y": 896.6873153757205
      }
    }
  ],
  "edges": [
    {
      "id": "e1",
      "source": "script",
      "sourceHandle": "dir_out",
      "target": "dir",
      "targetHandle": "in"
    },
    {
      "id": "e2",
      "source": "script",
      "sourceHandle": "lora_out",
      "target": "lora",
      "targetHandle": "in"
    },
    {
      "id": "e3",
      "source": "script",
      "sourceHandle": "misc_out",
      "target": "misc",
      "targetHandle": "in"
    },
    {
      "id": "e4",
      "source": "script",
      "sourceHandle": "json_out",
      "target": "ds_list",
      "targetHandle": "in"
    },
    {
      "id": "e5",
      "source": "ds_list",
      "sourceHandle": "dataset_0",
      "target": "dataset",
      "targetHandle": "in"
    },
    {
      "id": "e6",
      "source": "dataset",
      "sourceHandle": "image_config",
      "target": "img_list",
      "targetHandle": "in"
    },
    {
      "id": "e7",
      "source": "dataset",
      "sourceHandle": "target_config",
      "target": "tgt_list",
      "targetHandle": "in"
    },
    {
      "id": "e8",
      "source": "dataset",
      "sourceHandle": "reference_config",
      "target": "ref_list",
      "targetHandle": "in"
    },
    {
      "id": "e9",
      "source": "dataset",
      "sourceHandle": "caption_config",
      "target": "cap_list",
      "targetHandle": "in"
    },
    {
      "id": "e10",
      "source": "dataset",
      "sourceHandle": "batch_config",
      "target": "batch_list",
      "targetHandle": "in"
    },
    {
      "id": "e11",
      "source": "img_list",
      "sourceHandle": "img_0",
      "target": "img_1",
      "targetHandle": "in"
    },
    {
      "id": "e12",
      "source": "tgt_list",
      "sourceHandle": "tgt_0",
      "target": "tgt_1",
      "targetHandle": "in"
    },
    {
      "id": "e13",
      "source": "ref_list",
      "sourceHandle": "ref_0",
      "target": "ref_group_1",
      "targetHandle": "in"
    },
    {
      "id": "e13b",
      "source": "ref_group_1",
      "sourceHandle": "entry_0",
      "target": "ref_entry_1",
      "targetHandle": "in"
    },
    {
      "id": "e14",
      "source": "cap_list",
      "sourceHandle": "cap_0",
      "target": "cap_1",
      "targetHandle": "in"
    },
    {
      "id": "e15",
      "source": "batch_list",
      "sourceHandle": "batch_0",
      "target": "batch_1",
      "targetHandle": "in"
    },
    {
      "type": "default",
      "animated": false,
      "style": {
        "strokeWidth": 2,
        "stroke": "#a1a1aa"
      },
      "interactionWidth": 15,
      "source": "img_list",
      "sourceHandle": "img_vcq8f",
      "target": "imageConfigNode_obbbr3",
      "targetHandle": "in",
      "id": "reactflow__edge-img_listimg_vcq8f-imageConfigNode_obbbr3in"
    }
  ],
  "timestamp": 1767521020.2711272,
  "version": "1.0"
}