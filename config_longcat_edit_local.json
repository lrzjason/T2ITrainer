{
    "pretrained_model_name_or_path": "F:/T2ITrainer_pulic/T2ITrainer/longcat_models/LongCat-Image-Edit",
    "output_dir": "F:/ImageSet/longcat_test_edit_output",
    "save_name": "test_edit",
    "validation_epochs": 1,
    "seed": 4321,
    "train_batch_size": 1,
    "num_train_epochs": 10,
    "resume_from_checkpoint": "",
    "gradient_accumulation_steps": 1,
    "gradient_checkpointing": true,
    "learning_rate": 0.0001,
    "lr_scheduler": "cosine",
    "cosine_restarts": 1,
    "lr_warmup_steps": 0,
    "optimizer": "adamw",
    "logging_dir": "logs",
    "report_to": "wandb",
    "mixed_precision": "bf16",
    "use_lokr": false,
    "rank": 32,
    "rank_alpha": 1.0,
    "lokr_factor": 2,
    "save_model_epochs": 1,
    "save_model_steps": -1,
    "skip_epoch": 0,
    "skip_step": 0,
    "validation_ratio": 0.1,
    "caption_dropout": 0.1,
    "model_path": "",
    "allow_tf32": true,
    "weighting_scheme": "logit_normal",
    "logit_mean": 0.0,
    "logit_std": 1.0,
    "mode_scale": 1.29,
    "freeze_transformer_layers": "",
    "lora_layers": "",
    "skip_lora_layers": "",
    "guidance_scale": 1,
    "blocks_to_swap": 0,
    "nln_samples": 10,
    "nln_scale": 0.02,
    "nln_method": "default",
    "recreate_cache": true,
    "dataset_configs":[
        {
            "train_data_dir": "F:/ImageSet/longcat_test_edit/dataset_2",
            "resolution": "1024",
            "recreate_cache": false,
            "repeats": 3,
            "image_configs": {
                "AT":{
                    "suffix":"_AT"
                },
                "DT":{
                    "suffix":"_DT"
                },
                "FT":{
                    "suffix":"_FT"
                },
                "GT":{
                    "suffix":"_GT"
                },
                "LT":{
                    "suffix":"_LT"
                },
                "R":{
                    "suffix":"_R"
                },
                "ST":{
                    "suffix":"_ST"
                },
                "T":{
                    "suffix":"_T"
                },
                "WT":{
                    "suffix":"_WT"
                }
            },
            "target_configs": {
                "T": [
                    {
                        "image":"T",
                        "from_image": "DT"
                    }
                ]
            },
            "reference_configs": {
                "AT": [
                    {
                        "image": "AT"
                    }
                ],
                "FT": [
                    {
                        "image": "FT"
                    }
                ],
                "GT": [
                    {
                        "image": "GT"
                    }
                ],
                "LT": [
                    {
                        "image": "LT"
                    }
                ],
                "R": [
                    {
                        "image": "R"
                    }
                ],
                "ST": [
                    {
                        "image": "ST"
                    }
                ],
                "WT": [
                    {
                        "image": "WT"
                    }
                ]
            },
            "caption_configs": {
                "AT": {
                    "image":"AT",
                    "ext": ".txt",
                    "reference_list": {
                        "reference_config": "AT",
                        "resize": "512"
                    }
                },
                "FT": {
                    "image":"FT",
                    "ext": ".txt",
                    "reference_list": {
                        "reference_config": "FT",
                        "resize": "512"
                    }
                },
                "GT": {
                    "image":"FT",
                    "ext": ".txt",
                    "reference_list": {
                        "reference_config": "GT",
                        "resize": "512"
                    }
                },
                "LT": {
                    "image":"FT",
                    "ext": ".txt",
                    "reference_list": {
                        "reference_config": "LT",
                        "resize": "512"
                    }
                },
                "R": {
                    "image":"FT",
                    "ext": ".txt",
                    "reference_list": {
                        "reference_config": "R",
                        "resize": "512"
                    }
                },
                "ST": {
                    "image":"FT",
                    "ext": ".txt",
                    "reference_list": {
                        "reference_config": "ST",
                        "resize": "512"
                    }
                },
                "WT": {
                    "image":"FT",
                    "ext": ".txt",
                    "reference_list": {
                        "reference_config": "WT",
                        "resize": "512"
                    }
                }
            },
            "batch_configs":[
                {
                    "target_config": "T",
                    "reference_config": "AT",
                    "caption_config": "AT",
                    "caption_dropout": 0.1
                },
                {
                    "target_config": "T",
                    "reference_config": "FT",
                    "caption_config": "FT",
                    "caption_dropout": 0.1
                },
                {
                    "target_config": "T",
                    "reference_config": "GT",
                    "caption_config": "GT",
                    "caption_dropout": 0.1
                },
                {
                    "target_config": "T",
                    "reference_config": "LT",
                    "caption_config": "LT",
                    "caption_dropout": 0.1
                },
                {
                    "target_config": "T",
                    "reference_config": "R",
                    "caption_config": "R",
                    "caption_dropout": 0.1
                },
                {
                    "target_config": "T",
                    "reference_config": "ST",
                    "caption_config": "ST",
                    "caption_dropout": 0.1
                },
                {
                    "target_config": "T",
                    "reference_config": "WT",
                    "caption_config": "WT",
                    "caption_dropout": 0.1
                }
            ]
        },
        {
            "train_data_dir": "F:/ImageSet/longcat_test_edit/dataset_1",
            "resolution": "1024",
            "recreate_cache": false,
            "repeats": 2,
            "image_configs": {
                "train":{
                    "suffix":"_T"
                },
                "ref":{
                    "suffix":"_R"
                }
            },
            "target_configs": {
                "train_R": [
                    {
                        "image":"train"
                    }
                ]
            },
            "reference_configs": {
                "train_R": [
                    {
                        "image": "ref"
                    }
                ]
            },
            "caption_configs": {
                "train_R": {
                    "image":"train",
                    "ext": ".txt",
                    "reference_list": {
                        "reference_config": "train_R",
                        "resize": "512"
                    }
                }
            },
            "batch_configs":[
                {
                    "target_config": "train_R",
                    "reference_config": "train_R",
                    "caption_config": "train_R",
                    "caption_dropout": 0.1
                }
            ]
        }
    ]
}