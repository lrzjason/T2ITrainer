{
    "pretrained_model_name_or_path": "/datasets/studio/huggingface/models/Qwen-Image-Edit-2509",
    "output_dir": "/home/waas/style_gen_training/style_gen_output",
    "save_name": "style_gen",
    "train_data_dir": "/home/waas/style_gen_training/style_gen",
    "repeats": 2,
    "validation_epochs": 1,
    "seed": 4321,
    "train_batch_size": 2,
    "num_train_epochs": 10,
    "resume_from_checkpoint": "",
    "gradient_accumulation_steps": 1,
    "gradient_checkpointing": true,
    "learning_rate": 0.0001,
    "lr_scheduler": "cosine",
    "cosine_restarts": 1,
    "lr_warmup_steps": 0,
    "optimizer": "adamw",
    "logging_dir": "logs",
    "report_to": "wandb",
    "mixed_precision": "bf16",
    "use_lokr": false,
    "rank": 32,
    "rank_alpha": 1.0,
    "lokr_factor": 2,
    "save_model_epochs": 1,
    "save_model_steps": -1,
    "skip_epoch": 0,
    "skip_step": 0,
    "validation_ratio": 0.1,
    "model_path": "",
    "allow_tf32": true,
    "recreate_cache": true,
    "recreate_cache_target": false,
    "recreate_cache_reference": false,
    "recreate_cache_caption": false,
    "caption_dropout": 0.3,
    "resolution": "1024",
    "weighting_scheme": "logit_normal",
    "logit_mean": 0.0,
    "logit_std": 1.0,
    "mode_scale": 1.29,
    "freeze_transformer_layers": "",
    "lora_layers": "",
    "guidance_scale": 1,
    "blocks_to_swap": 0,
    "use_new_rope": true,
    "nln_samples": 10,
    "nln_scale": 0.02,
    "nln_method": "default",
    "image_configs": {
        "train":{
            "suffix":"_T"
        },
        "R":{
            "suffix":"_R"
        },
        "3D":{
            "suffix":"_3D"
        },
        "A":{
            "suffix":"_A"
        },
        "L":{
            "suffix":"_L"
        },
        "SIMPLE":{
            "suffix":"_SIMPLE"
        },
        "W":{
            "suffix":"_W"
        }
    },
    "target_configs": {
        "train_R": [
            {
                "image":"train",
                "from_image": "R"
            }
        ],
        "train_3D": [
            {
                "image": "train",
                "from_image": "3D"
            }
        ],
        "train_A": [
            {
                "image":"train",
                "from_image": "A"
            }
        ],
        "train_L": [
            {
                "image":"train",
                "from_image": "L"
            }
        ],
        "train_SIMPLE": [
            {
                "image":"train",
                "from_image": "SIMPLE"
            }
        ],
        "train_W": [
            {
                "image":"train",
                "from_image": "W"
            }
        ]
    },
    "reference_configs": {
        "train_R": [
            {
                "sample_type":"from_same_name",
                "image": "R"
            },
            {
                "sample_type":"from_subdir",
                "image": "train",
                "suffix":"_T",
                "resize":"512",
                "count":3
            }
        ],
        "train_3D": [
            {
                "sample_type":"from_same_name",
                "image": "3D"
            },
            {
                "sample_type":"from_subdir",
                "image": "train",
                "suffix":"_T",
                "resize":"512",
                "count":3
            }
        ],
        "train_A": [
            {
                "sample_type":"from_same_name",
                "image": "A"
            },
            {
                "sample_type":"from_subdir",
                "image": "train",
                "suffix":"_T",
                "resize":"512",
                "count":3
            }
        ],
        "train_L": [
            {
                "sample_type":"from_same_name",
                "image": "L"
            },
            {
                "sample_type":"from_subdir",
                "image": "train",
                "suffix":"_T",
                "resize":"512",
                "count":3
            }
        ],
        "train_SIMPLE": [
            {
                "sample_type":"from_same_name",
                "image": "SIMPLE"
            },
            {
                "sample_type":"from_subdir",
                "image": "train",
                "suffix":"_T",
                "resize":"512",
                "count":3
            }
        ],
        "train_W": [
            {
                "sample_type":"from_same_name",
                "image": "W"
            },
            {
                "sample_type":"from_subdir",
                "image": "train",
                "suffix":"_T",
                "resize":"512",
                "count":3
            }
        ]
    },
    "caption_configs": {
        "train_3D": {
            "image":"train",
            "ext": ".txt",
            "reference_list": {
                "reference_config": "train_3D",
                "resize": "384",
                "dropout": 0.1,
                "min_length": 2
            }
        },
        "train_A": {
            "image":"train",
            "ext": ".txt",
            "reference_list": {
                "reference_config": "train_A",
                "resize": "384",
                "dropout": 0.1,
                "min_length": 2
            }
        },
        "train_L": {
            "image":"train",
            "ext": ".txt",
            "reference_list": {
                "reference_config": "train_L",
                "resize": "384",
                "dropout": 0.1,
                "min_length": 2
            }
        },
        "train_R": {
            "image":"train",
            "ext": ".txt",
            "reference_list": {
                "reference_config": "train_R",
                "resize": "384",
                "dropout": 0.1,
                "min_length": 2
            }
        },
        "train_SIMPLE": {
            "image":"train",
            "ext": ".txt",
            "reference_list": {
                "reference_config": "train_SIMPLE",
                "resize": "384",
                "dropout": 0.1,
                "min_length": 2
            }
        },
        "train_W": {
            "image":"train",
            "ext": ".txt",
            "reference_list": {
                "reference_config": "train_W",
                "resize": "384",
                "dropout": 0.1,
                "min_length": 2
            }
        }
    },
    "batch_configs":[
        {
            "target_config": "train_3D",
            "reference_config": "train_3D",
            "reference_dropout": 0.75,
            "caption_config": "train_3D",
            "caption_dropout": 0.1
        },
        {
            "target_config": "train_A",
            "reference_config": "train_A",
            "reference_dropout": 0.75,
            "caption_config": "train_A",
            "caption_dropout": 0.1
        },
        {
            "target_config": "train_L",
            "reference_config": "train_L",
            "reference_dropout": 0.75,
            "caption_config": "train_L",
            "caption_dropout": 0.1
        },
        {
            "target_config": "train_R",
            "reference_config": "train_R",
            "reference_dropout": 0.75,
            "caption_config": "train_R",
            "caption_dropout": 0.1
        },
        {
            "target_config": "train_SIMPLE",
            "reference_config": "train_SIMPLE",
            "reference_dropout": 0.75,
            "caption_config": "train_SIMPLE",
            "caption_dropout": 0.1
        },
        {
            "target_config": "train_W",
            "reference_config": "train_W",
            "reference_dropout": 0.75,
            "caption_config": "train_W",
            "caption_dropout": 0.1
        }
    ]
}